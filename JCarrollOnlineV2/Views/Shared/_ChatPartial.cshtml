@using JCarrollOnlineV2.ViewModels.Chat
@model ChatViewModel

<div class="chat-container card">
    <div class="card-header bg-primary text-white">
        <h4><i class="fa fa-comments"></i> Live Chat</h4>
    </div>
    <div class="card-body">
        <div id="chatMessages" class="chat-messages" style="height: 300px; overflow-y: scroll; margin-bottom: 10px; border: 1px solid #ddd; padding: 10px; background-color: #f9f9f9;">
            @foreach (var message in Model.RecentMessages)
            {
                <div class="chat-message">
                    <strong>@message.UserName:</strong>
                    <span>@message.Message</span>
                    <small class="text-muted" data-livestamp="@message.TimeAgo"></small>
                </div>
            }
        </div>
        <div class="input-group">
            <input type="text" id="chatInput" class="form-control" placeholder="Type a message..." maxlength="500" />
            <div class="input-group-append">
                <button id="sendButton" class="btn btn-primary" type="button">
                    <i class="fa fa-paper-plane"></i> Send
                </button>
            </div>
        </div>
        <small class="text-muted">Press Enter to send</small>
    </div>
</div>

<style>
    .chat-message {
        margin-bottom: 8px;
        padding: 5px;
        border-bottom: 1px solid #eee;
    }
    
    .chat-message:last-child {
        border-bottom: none;
    }
    
    .chat-messages {
        scroll-behavior: smooth;
    }
</style>